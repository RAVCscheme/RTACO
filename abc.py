from py_ecc.bn128 import *
from py_ecc_tester import *
# sk = [(8913522837005696834636356144797428228739199132859481264489966807114954170076, [14994799119558669617298594020070473399996073103403447612256712148847558254361, 15470523573360776694015360829523111518183529679855266339053493204571412293968], 19384385971326909160015294921641073410536580621490193245574308380900707332641), (6101527006924080924316259443576511148835378300762302695381952696103398880110, [21084989786864815714844385123656307146798397827890951436463771057671932603748, 7413793018357549699547166320961704892804911960669939690470303727450909759271], 19384385971326909160015294921641073410536580621490193245574308380900707332641), (3289531176842465013996162742355594068931557468665124126273938585091843590144, [5286937582331686590143770481984865805052358151962420916972625779920498457518, 21245305335193597927325377557657573355974658641900647385585318436906215720191], 19384385971326909160015294921641073410536580621490193245574308380900707332641)]
# kr_vk = [14854881884913250436335149789017322816047975764144032617446564507480150204117, 21368794431271973140088976457503373074736603623753234333626208476274008839994, 5994464105791420621596397380732148244876867082946401706107648258492058980254]
# vk = [(((10857046999023057135944570762232829481370756359578518086990519993285655852781, 11559732032986387107991004021392285783925812861821192530917403151452391805634), (8495653923123431417604973247489272438418190587263600148770280649306958101930, 4082367875863433681332203403145435568316851327593401208105741076214120093531)), ((20380368359806843347040757686590215519733428346989310185835739186824500000584, 12914529951687768674291878775970501047678269728315659281376483645184655447457), (5928521220499773703474512563538441983965113222816864070306769023435778732601, 1455485938627607948023990982322632851058561389733166721726799756083785567703)), [(20001801211896961111444089597323217842733304220183583602024049264036740160011, 10361665555161629146640199041937080977235871211418586775880407459826924745587), (13681587641936604733951006949375774700298049126759679082120467594016020228098, 5471951196499145831214325202356830788511188406843167416338271643908734105014)], [((14332620663598302725297698695048586361710936739132642143588556264720926280476, 6140879358723453800294323349483942383226154973017542215953971864916430057627), (15136969716732491188898047313861914297265322630396683343928883679560618496019, 15192682690980921328743898143452295229045180613571571696817020993625508771632)), ((16702311867755024996691860785590718582036894495765676140808430039808852449404, 18608702794796837471182127588285042255244200946682219740799710424165428769124), (3109341527604586489588632136256235006131329113143941399371642370224675943168, 21268767167703044004336565415066578420228500178713191752465413607400141398875))], ((458268224703353237783594678775273933167204056252889723714123633251064216879, 10072692984701363721087598255042567462791390506103312268494844577791330013635), (19041952637336834953669338300976876859386370892300633985061938004172732472430, 14391324486588253744539305646667638968569939588981104279459762839735110926451))), (((10857046999023057135944570762232829481370756359578518086990519993285655852781, 11559732032986387107991004021392285783925812861821192530917403151452391805634), (8495653923123431417604973247489272438418190587263600148770280649306958101930, 4082367875863433681332203403145435568316851327593401208105741076214120093531)), ((20092871636521081864469477173647853463703004003972968107075435515619556706008, 17464857928751948434602031473278271786533106831405119807604034777690320606529), (16777467515975678248244286557967823356817496689975078561136790595521164745317, 17135525035253783136557113787526051770624037879591307901981197471367785997691)), [(21110160459711198664682035225508692441675392084183007415658673919633474096323, 11157789742241593110272633826765361182339068228777918979248178105071827696057), (20064412137947610871600694849096232705741185500300377321804745296175404225516, 14893602523111102237460663248324713258242751280165246639167778074954187260369)], [((290197968890249814708984383925650830453230735219767325577804208554163471433, 10830461422726199719559949633308777487282134334031029938058227045077946734400), (21727785621466448926868019065700495747096508868761561992098413491996050081722, 2461652081581783756047121457906521289012828576589713738225255488431062270400)), ((10402147682466419301609702755781158112153790664555927694145530661940498871615, 4108327994693576350815542127639449808707407887623937937745945916491362375019), (13294328749829952312698662767676683885531231776071123726472987493686707882877, 10337552650114700356345601950973789124322537221898558193208021322273465656997))], ((458268224703353237783594678775273933167204056252889723714123633251064216879, 10072692984701363721087598255042567462791390506103312268494844577791330013635), (19041952637336834953669338300976876859386370892300633985061938004172732472430, 14391324486588253744539305646667638968569939588981104279459762839735110926451))), (((10857046999023057135944570762232829481370756359578518086990519993285655852781, 11559732032986387107991004021392285783925812861821192530917403151452391805634), (8495653923123431417604973247489272438418190587263600148770280649306958101930, 4082367875863433681332203403145435568316851327593401208105741076214120093531)), ((8592086678000484748551721718580735447368108678907908057609630154775335316873, 17465795264609627551292860690029560531561232608802988363677484775252986074830), (18223262887959353098008109482883688124982940503940886108934698434753907402737, 15634565470027529668129428369523879876631624224334308012279899567351084711675)), [(2932766017207311559870599870169108589635139458720943100553543145962813945531, 21183366813475157542817163036826777815314512473562678478128878412560195705033), (14342875470787513180900182624374132777797415184991699233231131934330670383311, 3282061694516729125855894892611983490761501543085503062995972164325743568864)], [((11447702703744768898649127251524728606234125327440779093032354559784634375503, 332274625491425663615633780215717641070006185065402793848006693065060565584), (20215773461447204034873919873832547568278030005961766987189807780981120952875, 19051271639270710637935094935630707449719870270181787006869426814927467006087)), ((7433421786337838640668491919868272337668654517821961559418535150849617100014, 6330694164672457946432797999017533603954103010708541336668583192925592727405), (3774720292568550479219238963489574622937357466384667743217410439102477090346, 12174267596433037346221839650361248006869066706429123003661943158747522142265))], ((458268224703353237783594678775273933167204056252889723714123633251064216879, 10072692984701363721087598255042567462791390506103312268494844577791330013635), (19041952637336834953669338300976876859386370892300633985061938004172732472430, 14391324486588253744539305646667638968569939588981104279459762839735110926451)))]
# agg_vk = [(((10857046999023057135944570762232829481370756359578518086990519993285655852781, 11559732032986387107991004021392285783925812861821192530917403151452391805634), (8495653923123431417604973247489272438418190587263600148770280649306958101930, 4082367875863433681332203403145435568316851327593401208105741076214120093531)), ((8296325681406602765875257141224512619004373194056736067052179510858271280213, 6801585640801696555870072629177295965627529559305616271933706781196575483725), (18075277607127607065433977711473796858812121257407887198191266265893835412090, 3481910559008535226280288304601358197441484932967559461703203246320087338799)), [(13388222422985528768977782491419071219342920735104322363564237977068007777480, 2668198575839004449206473845959194670637449716555563721709906361955724023998), (4474337183065758383700615198506261335225869431904280148200195180281752816125, 9250948268588722774713983635702472909730082216830317295877112337876175410297)], [((21747052283409534137650920889311099620018878206459041998174785663641804695312, 6903787555117480243816483093608868005356450582312800719681225333959521091914), (17868333721433302372731739470482365259630103141500523406145344174373963955027, 5618498906473649275348247557133818789704427880038401933754341833594271799953)), ((7798252676239480498279961390383361453588787700428186496392675276273955386581, 2494565296028748311785148445016511763299280273677008726033503342044404039161), (6703737040243580981366704304021365948972582108130717214209306667791055360865, 1498590402342647791072547201168730837460822395708294816648061160106267975449))], ((458268224703353237783594678775273933167204056252889723714123633251064216879, 10072692984701363721087598255042567462791390506103312268494844577791330013635), (19041952637336834953669338300976876859386370892300633985061938004172732472430, 14391324486588253744539305646667638968569939588981104279459762839735110926451)))]
# agg_sk = (11725518667087312744956452846018345308643019964956659833597980918126509460042, [8904608452252523519752802916484639653193748378915943788049653240023183904974, 45415497000203278910729961083341793232110511799456627331334886868267723324282], (19384385971326909160015294921641073410536580621490193245574308380900707332641, 19384385971326909160015294921641073410536580621490193245574308380900707332641, 19384385971326909160015294921641073410536580621490193245574308380900707332641))
# kr = 8340969338554527732581323120531272557359347904534830901266920538686291568240
# vk_1 = vk[0]
# vk_2 = vk[1]
# vk_3 = vk[2]

# os = [12407862293801917778217947663960453295251372161849358123921336520372660353598, 4053703887292136839063259200431268027267523094675402388613249452927003317597]
# H = (15699607812271322487808864863469566891460690890186675163464913363076750377170, 5621255768244603392339250277736502544585615179062329557849083495021323637788)
# p = (FQ(H[0]),FQ(H[1]))
# x1 = sk[0][0]
# x2 = sk[1][0]
# x3 = sk[2][0]
# a_dob = 19980512
# a_salary = 100000
# y1_a_dob = sk[0][1][0]
# y2_a_dob = sk[1][1][0]
# y3_a_dob = sk[2][1][0]
# y1_a_salary = sk[0][1][1]
# y2_a_salary = sk[1][1][1]
# y3_a_salary = sk[2][1][1]
# yc = sk[0][2]
# kr_1 = kr_vk[0]
# kr_2 = kr_vk[1]
# kr_3 = kr_vk[2]

# blind1 = ((15699607812271322487808864863469566891460690890186675163464913363076750377170, 5621255768244603392339250277736502544585615179062329557849083495021323637788), (4220850152313827846115128687871043727843451893781275101271583193346853008002, 20889516825453848607549085993225170047416801500913563223320243317841661183491))
# blind2 = ((15699607812271322487808864863469566891460690890186675163464913363076750377170, 5621255768244603392339250277736502544585615179062329557849083495021323637788), (663125733204786621034166258116509690380744811469261111540353389062186784133, 12256554498391128648472774429225246150294728366528940033241882896178425153623))
# blind3 = ((15699607812271322487808864863469566891460690890186675163464913363076750377170, 5621255768244603392339250277736502544585615179062329557849083495021323637788), (15132042858694211147175095592066904409471963562855291185676145343002685882241, 8042305025248975296193998232724279451052853513241793892258376337652075152152))

# ans = multiply(p,x1)
# ans2 = multiply(p,a_dob)
# ans2 = multiply(ans2,y1_a_dob)
# ans3 = multiply(p,a_salary)
# ans3 = multiply(ans3,y1_a_salary)
# ans4 = multiply(p,yc)
# ans4 = multiply(ans4,kr_1)
# unblind1 = add(add(add(ans,ans2),ans3),ans4)



# ans = multiply(p,x2)
# ans2 = multiply(p,a_dob)
# ans2 = multiply(ans2,y2_a_dob)
# ans3 = multiply(p,a_salary)
# ans3 = multiply(ans3,y2_a_salary)
# ans4 = multiply(p,yc)
# ans4 = multiply(ans4,kr_2)
# unblind2 = add(add(add(ans,ans2),ans3),ans4)


# ans = multiply(p,x3)
# ans2 = multiply(p,a_dob)
# ans2 = multiply(ans2,y3_a_dob)
# ans3 = multiply(p,a_salary)
# ans3 = multiply(ans3,y3_a_salary)
# ans4 = multiply(p,yc)
# ans4 = multiply(ans4,kr_3)
# unblind3 = add(add(add(ans,ans2),ans3),ans4)

# # print(vk_1[2][0])
# def convertToFQ(point):
#     return (FQ(point[0]),FQ(point[1]))

# tr = add(blind1[1],neg(multiply(convertToFQ(vk_1[2][0]),os[0])))
# tr = add(tr,neg(multiply(convertToFQ(vk_1[2][1]),os[1])))
# print(tr)

# tr = add(blind2[1],neg(multiply(convertToFQ(vk_2[2][0]),os[0])))
# tr = add(tr,neg(multiply(convertToFQ(vk_2[2][1]),os[1])))
# print(tr)

# tr = add(blind3[1],neg(multiply(convertToFQ(vk_3[2][0]),os[0])))
# tr = add(tr,neg(multiply(convertToFQ(vk_3[2][1]),os[1])))
# print(tr)

# agg_x = agg_sk[0]
# agg_y1 = agg_sk[1][0]
# agg_y2 = agg_sk[1][1]
# agg_yc = agg_sk[2]

# a1 = multiply(p,agg_x)
# a2 = multiply(p,agg_y1)
# a2 = multiply(a2,a_dob)
# a3 = multiply(p,agg_y2)
# a3 = multiply(a3,a_salary)
# a4 = multiply(p,agg_yc[0])
# a4 = multiply(a4,kr)
# ans = add(add(a1,a2),add(a3,a4))
# print((H,ans))

cm = (5, 10)
cm = (FQ(cm[0]),FQ(cm[1]))
params = (0,0,0,0,0,0)
ans = compute_hash(params, cm)
s = int.from_bytes(to_binary256(ans), 'big', signed=False)
print(s)